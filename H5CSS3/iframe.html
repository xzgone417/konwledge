<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            padding: 0;
        }
    </style>
</head>

<body>
    <!-- <a
        href="https://pay.pawpack.sofishgame.com/index.html?encodeStr=eyJyb2xlSUQiOiIxMDk4MzI0MjQ1NDQ0NjkxNjM0Iiwicm9sZU5hbWUiOiJoZXJvMTAxMDUyMSIsInNlcnZlcklEIjo0LCJzZXJ2ZXJOYW1lIjoiNOacjSIsInJvbGVMZXZlbCI6IjQiLCJ2aXAiOiIxIiwiYXBwTGFuZyI6InpoIiwicHJvZHVjdElEIjoiMTk2IiwicHJvZHVjdE5hbWUiOiIxMjjlhYPnu4jouqvljaEiLCJwcm9kdWN0RGVzYyI6IjEyOOWFg+e7iOi6q+WNoSIsInByaWNlIjoxOTk5LCJjcE9yZGVySUQiOiI4MmM3ZmJiNDI0MTY0YjI5IiwicGF5Tm90aWZ5VXJsIjoiaHR0cHM6Ly9jcC5wYXdwYWNrLnNvZmlzaGdhbWUuY29tL3B1c2gvemR5SGFuZGxlTm90aWZ5IiwiZXh0cmEiOiI4MmM3ZmJiNDI0MTY0YjI5IiwiY3VycmVuY3kiOiJVU0QiLCJhcHBJZCI6MTAwMjIsInVpZCI6IjEwOTgzMjQyNDU0NDQ2OTE2MzQiLCJjaGFubmVsSUQiOjYsImRldmljZUlEIjoiOTViZDYwMjRiNTk1MWQxOTIzNTBiZGU2NDhlNDlhYTYifQ==">
        aaaaaaaaaaaaaaa</a> -->
    <a href="./poatMessage.html" target="_blank">ppppppppppppppp</a>
    <!-- <iframe src="https://test-gamedistribute-customer-h5.sofish.com/"
        style="width: 100%;min-height: 100vh;border: none;"> -->
    <script>
        // å‘é€æ¶ˆæ¯
        var targetWindow = window.parent; // æˆ–è€…è·å–ç›®æ ‡çª—å£çš„å¼•ç”¨
        console.log('ğŸš€XZG ~ targetWindow:', targetWindow);
        var message = 'Hello, this is a message!';
        // targetWindow.postMessage(message, 'https://pay.pawpack.sofishgame.com/index.html?encodeStr=eyJyb2xlSUQiOiIxMDk4MzI0MjQ1NDQ0NjkxNjM0Iiwicm9sZU5hbWUiOiJoZXJvMTAxMDUyMSIsInNlcnZlcklEIjo0LCJzZXJ2ZXJOYW1lIjoiNOacjSIsInJvbGVMZXZlbCI6IjQiLCJ2aXAiOiIxIiwiYXBwTGFuZyI6InpoIiwicHJvZHVjdElEIjoiMTk2IiwicHJvZHVjdE5hbWUiOiIxMjjlhYPnu4jouqvljaEiLCJwcm9kdWN0RGVzYyI6IjEyOOWFg+e7iOi6q+WNoSIsInByaWNlIjoxOTk5LCJjcE9yZGVySUQiOiI4MmM3ZmJiNDI0MTY0YjI5IiwicGF5Tm90aWZ5VXJsIjoiaHR0cHM6Ly9jcC5wYXdwYWNrLnNvZmlzaGdhbWUuY29tL3B1c2gvemR5SGFuZGxlTm90aWZ5IiwiZXh0cmEiOiI4MmM3ZmJiNDI0MTY0YjI5IiwiY3VycmVuY3kiOiJVU0QiLCJhcHBJZCI6MTAwMjIsInVpZCI6IjEwOTgzMjQyNDU0NDQ2OTE2MzQiLCJjaGFubmVsSUQiOjYsImRldmljZUlEIjoiOTViZDYwMjRiNTk1MWQxOTIzNTBiZGU2NDhlNDlhYTYifQ=='); // ç›®æ ‡çª—å£çš„ origin
        targetWindow.postMessage(message, 'http://127.0.0.1:5501'); // ç›®æ ‡çª—å£çš„ origin

    </script>
    <!-- åœ¨ä½¿ç”¨ iframe åµŒå¥—é¡µé¢æ—¶ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼è¿›è¡Œ iframe ä¸çˆ¶é¡µé¢ä¹‹é—´çš„é€šä¿¡ï¼š

1. **postMessage() æ–¹æ³•**ï¼šè¿™æ˜¯æœ€å¸¸ç”¨çš„è·¨æ–‡æ¡£é€šä¿¡æ–¹æ³•ã€‚é€šè¿‡åœ¨çˆ¶é¡µé¢æˆ–å­é¡µé¢ä¸­è°ƒç”¨ `postMessage()` æ–¹æ³•ï¼Œå¯ä»¥åœ¨å®ƒä»¬ä¹‹é—´ä¼ é€’æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼Œåœ¨çˆ¶é¡µé¢ä¸­å¯ä»¥è¿™æ ·å‘é€æ¶ˆæ¯ï¼š
   
   ```javascript
   const iframe = document.getElementById('myIframe');
   iframe.contentWindow.postMessage('Hello from parent!', 'https://childpage.com');
   ```

   åœ¨å­é¡µé¢ä¸­å¯ä»¥ç›‘å¬æ¶ˆæ¯äº‹ä»¶ï¼š
   
   ```javascript
   window.addEventListener('message', event => {
       if (event.origin === 'https://parentpage.com') {
           console.log('Message from parent:', event.data);
       }
   });
   ```

2. **window.postMessage() æ–¹æ³•**ï¼šç±»ä¼¼äº postMessage() æ–¹æ³•ï¼Œä½†æ˜¯ç›´æ¥åœ¨ window å¯¹è±¡ä¸Šè°ƒç”¨ã€‚å¯ä»¥åœ¨ iframe ä¸­ä½¿ç”¨ `window.parent.postMessage()` å‘çˆ¶é¡µé¢å‘é€æ¶ˆæ¯ï¼Œæˆ–è€…åœ¨çˆ¶é¡µé¢ä¸­ä½¿ç”¨ `window.frames[0].postMessage()` å‘å­é¡µé¢å‘é€æ¶ˆæ¯ã€‚

3. **window.addEventListener() æ–¹æ³•**ï¼šåœ¨çˆ¶é¡µé¢æˆ–å­é¡µé¢ä¸­ä½¿ç”¨ `window.addEventListener()` ç›‘å¬ `message` äº‹ä»¶ï¼Œä»¥ä¾¿æ¥æ”¶ä»å¦ä¸€ä¸ªé¡µé¢å‘é€è¿‡æ¥çš„æ¶ˆæ¯ã€‚

4. **window.name å±æ€§**ï¼šå¯ä»¥é€šè¿‡è®¾ç½® `window.name` å±æ€§æ¥åœ¨çˆ¶é¡µé¢å’Œå­é¡µé¢ä¹‹é—´ä¼ é€’æ•°æ®ã€‚è¿™ç§æ–¹æ³•é€‚ç”¨äºåœ¨åŒä¸€åŸŸåä¸‹çš„é¡µé¢é€šä¿¡ã€‚

5. **ä½¿ç”¨ URL hash**ï¼šå¯ä»¥é€šè¿‡ä¿®æ”¹ URL çš„ hash éƒ¨åˆ†æ¥ä¼ é€’ç®€å•çš„æ¶ˆæ¯ã€‚çˆ¶é¡µé¢å¯ä»¥ç›‘å¬ `hashchange` äº‹ä»¶ï¼Œä»è€Œè·å–å­é¡µé¢ä¼ é€’çš„æ¶ˆæ¯ã€‚

è¿™äº›æ–¹æ³•å¯ä»¥å¸®åŠ©å®ç° iframe å’Œçˆ¶é¡µé¢ä¹‹é—´çš„é€šä¿¡ï¼Œæ ¹æ®å…·ä½“çš„éœ€æ±‚å’Œåœºæ™¯é€‰æ‹©åˆé€‚çš„é€šä¿¡æ–¹å¼ã€‚ -->
</body>

</html>